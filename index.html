<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DENEME KAFE | QR Men√º</title>

  <style>
    :root {
      --bg1: #070A0F;
      --bg2: #0E1220;
      --card: rgba(255,255,255,0.06);
      --card2: rgba(255,255,255,0.04);
      --border: rgba(255,255,255,0.10);

      --text: #F8FAFC;
      --muted: rgba(248,250,252,0.65);

      --accent: #ff4d6d;
      --accent2: #ffb703;
      --accent3: #38bdf8;
      --green: #22c55e;
      --danger: #ef4444;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", Arial, sans-serif;
    }

    body {
      background: radial-gradient(circle at top left, rgba(255,77,109,0.20), transparent 55%),
                  radial-gradient(circle at top right, rgba(56,189,248,0.20), transparent 55%),
                  linear-gradient(180deg, var(--bg1), var(--bg2));
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ==============================
       TOP RIGHT LANGUAGE SWITCH
    ============================== */
    .top-right {
      position: fixed;
      top: 12px;
      right: 12px;
      z-index: 90;
      display: flex;
      gap: 8px;
      background: rgba(0,0,0,0.35);
      border: 1px solid var(--border);
      padding: 6px;
      border-radius: 999px;
      backdrop-filter: blur(14px);
    }

    .top-right button {
      border: none;
      cursor: pointer;
      padding: 8px 12px;
      font-size: 12px;
      border-radius: 999px;
      background: transparent;
      color: var(--muted);
      transition: 0.2s;
      font-weight: 600;
    }

    .top-right button.active {
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      color: #111;
    }

    /* ==============================
       HERO
    ============================== */
    .hero {
      padding: 80px 16px 14px;
      text-align: center;
      max-width: 1100px;
      margin: auto;
    }

    .logo-box {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 92px;
      height: 92px;
      border-radius: 22px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.10);
      backdrop-filter: blur(10px);
      overflow: hidden;
      box-shadow: 0 14px 40px rgba(0,0,0,0.55);
      margin-bottom: 12px;
    }

    .logo-box img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .hero h1 {
      font-size: 30px;
      font-weight: 900;
      letter-spacing: 1px;
      background: linear-gradient(90deg, var(--accent), var(--accent2), var(--accent3));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .hero p {
      margin-top: 8px;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.4;
    }

    /* ==============================
       SEARCH
    ============================== */
    .search-area {
      max-width: 720px;
      margin: 22px auto 0;
      display: flex;
      justify-content: center;
      padding: 0 10px;
    }

    .search-area input {
      width: 100%;
      padding: 16px 16px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(12px);
      outline: none;
      color: var(--text);
      font-size: 14px;
      transition: 0.2s;
    }

    .search-area input:focus {
      border-color: rgba(255,77,109,0.65);
      box-shadow: 0 0 0 4px rgba(255,77,109,0.12);
    }

    .search-area input::placeholder {
      color: rgba(248,250,252,0.5);
    }

    /* ==============================
       CATEGORY BUTTONS
    ============================== */
    .categories {
      max-width: 900px;
      margin: 18px auto 0;
      padding: 0 10px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .categories button {
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.25);
      color: rgba(248,250,252,0.7);
      cursor: pointer;
      padding: 10px 16px;
      border-radius: 999px;
      font-size: 13px;
      transition: 0.2s;
      backdrop-filter: blur(10px);
      font-weight: 700;
    }

    .categories button:hover {
      transform: translateY(-2px);
      border-color: rgba(255,183,3,0.55);
    }

    .categories button.active {
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      border: none;
      color: #111;
    }

    /* ==============================
       SECTION TITLE
    ============================== */
    .section-title {
      max-width: 1100px;
      margin: 26px auto 14px;
      padding: 0 14px;
      font-size: 13px;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: rgba(248,250,252,0.55);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    /* ==============================
       CAMPAIGN SLIDER
    ============================== */
    .slider-wrap {
      max-width: 1100px;
      margin: 10px auto 22px;
      padding: 0 14px;
    }

    .slider {
      display: flex;
      gap: 14px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      padding-bottom: 10px;
    }

    .slider::-webkit-scrollbar {
      height: 8px;
    }

    .slider::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.12);
      border-radius: 999px;
    }

    .slide {
      min-width: 320px;
      max-width: 380px;
      flex: 0 0 auto;
      scroll-snap-align: start;
      border-radius: 22px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(14px);
      cursor: pointer;
      transition: 0.25s;
      position: relative;
      box-shadow: 0 14px 40px rgba(0,0,0,0.55);
    }

    .slide:hover {
      transform: translateY(-4px);
      border-color: rgba(255,183,3,0.5);
    }

    .slide img {
      width: 100%;
      height: 170px;
      object-fit: cover;
      filter: saturate(1.35) contrast(1.1);
    }

    .slide-info {
      padding: 14px;
    }

    .slide-info h3 {
      font-size: 15px;
      font-weight: 900;
      margin-bottom: 6px;
    }

    .slide-info p {
      font-size: 12px;
      color: rgba(248,250,252,0.65);
      line-height: 1.35;
      margin-bottom: 10px;
    }

    .price-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      font-weight: 900;
      font-size: 14px;
    }

    .old-price {
      color: rgba(248,250,252,0.45);
      text-decoration: line-through;
      font-size: 12px;
      font-weight: 700;
    }

    .new-price {
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      padding: 6px 10px;
      border-radius: 999px;
      color: #111;
      font-weight: 900;
    }

    .badge {
      position: absolute;
      top: 12px;
      left: 12px;
      background: rgba(0,0,0,0.65);
      border: 1px solid rgba(255,255,255,0.18);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 900;
      color: rgba(255,255,255,0.92);
      backdrop-filter: blur(10px);
    }

    /* ==============================
       MENU GRID
    ============================== */
    .container {
      max-width: 1100px;
      margin: auto;
      padding: 0 14px 40px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 16px;
    }

    .card {
      border-radius: 22px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(14px);
      cursor: pointer;
      transition: 0.25s;
      box-shadow: 0 14px 40px rgba(0,0,0,0.55);
    }

    .card:hover {
      transform: translateY(-4px);
      border-color: rgba(56,189,248,0.55);
    }

    .card img {
      width: 100%;
      height: 170px;
      object-fit: cover;
      filter: saturate(1.45) contrast(1.1);
    }

    .card-content {
      padding: 14px;
    }

    .card-top {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      align-items: start;
    }

    .card h3 {
      font-size: 15px;
      font-weight: 900;
      margin-bottom: 6px;
    }

    .desc {
      font-size: 12px;
      color: rgba(248,250,252,0.65);
      line-height: 1.4;
      margin-bottom: 10px;
    }

    .price {
      font-size: 14px;
      font-weight: 900;
      color: var(--accent2);
      white-space: nowrap;
    }

    .tag {
      display: inline-block;
      padding: 7px 12px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 900;
      background: rgba(255,77,109,0.14);
      border: 1px solid rgba(255,77,109,0.20);
      color: rgba(255,77,109,0.95);
    }

    /* ==============================
       WHATSAPP FLOATING BUTTON
    ============================== */
    .whatsapp {
      position: fixed;
      bottom: 16px;
      right: 16px;
      background: #25D366;
      color: white;
      padding: 14px 18px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 13px;
      text-decoration: none;
      box-shadow: 0 14px 35px rgba(0,0,0,0.55);
      transition: 0.2s;
      z-index: 80;
    }

    .whatsapp:hover {
      transform: scale(1.05);
    }

    /* ==============================
       FOOTER
    ============================== */
    footer {
      border-top: 1px solid rgba(255,255,255,0.08);
      padding: 22px 14px;
      max-width: 1100px;
      margin: auto;
      color: rgba(248,250,252,0.55);
      font-size: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 14px;
      flex-wrap: wrap;
    }

    .admin-link {
      cursor: pointer;
      font-weight: 900;
      color: rgba(255,183,3,0.95);
      transition: 0.2s;
    }

    .admin-link:hover {
      color: rgba(255,77,109,0.95);
    }

    /* ==============================
       MODALS (DETAIL + ADMIN)
    ============================== */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.70);
      backdrop-filter: blur(8px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 120;
      padding: 18px;
    }

    .overlay.show {
      display: flex;
    }

    .modal {
      width: 100%;
      max-width: 680px;
      max-height: 85vh;
      overflow-y: auto;
      background: rgba(0,0,0,0.60);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 22px;
      backdrop-filter: blur(18px);
      box-shadow: 0 18px 55px rgba(0,0,0,0.75);
      position: relative;
      animation: pop 0.2s ease;
    }

    @keyframes pop {
      from { transform: scale(0.95); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .modal-header {
      padding: 14px 16px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      position: sticky;
      top: 0;
      background: rgba(0,0,0,0.75);
      backdrop-filter: blur(16px);
      z-index: 5;
    }

    .modal-header h2 {
      font-size: 15px;
      font-weight: 900;
    }

    .close-btn {
      cursor: pointer;
      border: none;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.12);
      color: rgba(248,250,252,0.9);
      padding: 8px 12px;
      border-radius: 999px;
      font-weight: 900;
      transition: 0.2s;
    }

    .close-btn:hover {
      background: rgba(255,77,109,0.25);
      border-color: rgba(255,77,109,0.4);
    }

    .modal-body {
      padding: 16px;
    }

    .detail-img {
      width: 100%;
      height: 230px;
      border-radius: 18px;
      object-fit: cover;
      filter: saturate(1.45) contrast(1.1);
      margin-bottom: 12px;
      border: 1px solid rgba(255,255,255,0.12);
    }

    .detail-row {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      align-items: center;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .detail-price {
      font-size: 16px;
      font-weight: 900;
      color: var(--accent2);
    }

    .detail-meta {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .pill {
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 900;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.06);
      color: rgba(248,250,252,0.85);
    }

    /* ==============================
       ADMIN FORM
    ============================== */
    .admin-box {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .admin-section {
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      border-radius: 18px;
      padding: 14px;
    }

    .admin-section h3 {
      font-size: 13px;
      font-weight: 900;
      margin-bottom: 12px;
      color: rgba(255,255,255,0.9);
    }

    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .row-1 {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .admin-section input,
    .admin-section textarea,
    .admin-section select {
      width: 100%;
      padding: 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.35);
      color: rgba(248,250,252,0.95);
      outline: none;
      font-size: 13px;
    }

    .admin-section textarea {
      min-height: 80px;
      resize: vertical;
    }

    .btn {
      border: none;
      cursor: pointer;
      padding: 12px 14px;
      border-radius: 14px;
      font-weight: 900;
      font-size: 13px;
      transition: 0.2s;
    }

    .btn-primary {
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      color: #111;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
    }

    .btn-danger {
      background: rgba(239,68,68,0.18);
      border: 1px solid rgba(239,68,68,0.25);
      color: rgba(239,68,68,0.95);
    }

    .btn-danger:hover {
      background: rgba(239,68,68,0.28);
    }

    .btn-secondary {
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.10);
      color: rgba(248,250,252,0.9);
    }

    .btn-secondary:hover {
      background: rgba(56,189,248,0.18);
      border-color: rgba(56,189,248,0.3);
    }

    .list-item {
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.25);
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }

    .list-item strong {
      font-size: 13px;
    }

    .list-item small {
      color: rgba(248,250,252,0.55);
      font-size: 12px;
    }

    .actions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    @media(max-width: 720px){
      .row { grid-template-columns: 1fr; }
      .slide { min-width: 270px; }
      .hero h1 { font-size: 26px; }
    }
  </style>
</head>

<body>

  <!-- Language Switch -->
  <div class="top-right">
    <button id="btnTR" class="active">TR</button>
    <button id="btnEN">EN</button>
  </div>

  <!-- HERO -->
  <div class="hero">
    <div class="logo-box">
      <img src="logo.png" alt="DENEME KAFE Logo" onerror="this.style.display='none'">
    </div>

    <h1 id="titleText">DENEME KAFE</h1>
    <p id="subtitleText">Tatlƒ± ‚Ä¢ Tuzlu ‚Ä¢ ƒ∞√ßecek | QR Men√º Deneyimi</p>

    <div class="search-area">
      <input type="text" id="searchInput" placeholder="√úr√ºn ara... (√∂rn: latte, burger)" />
    </div>

    <div class="categories" id="categoryButtons"></div>
  </div>

  <!-- CAMPAIGN SLIDER -->
  <div class="slider-wrap">
    <div class="section-title">
      <span id="campaignTitle">üî• Kampanyalar</span>
      <span id="campaignHint">Kaydƒ±r & ke≈üfet</span>
    </div>
    <div class="slider" id="campaignSlider"></div>
  </div>

  <!-- DAILY SUGGESTION -->
  <div class="container">
    <div class="section-title">
      <span id="dailyTitle">‚≠ê G√ºn√ºn √ñnerisi</span>
    </div>
    <div class="grid" id="dailyGrid"></div>
  </div>

  <!-- MENU -->
  <div class="container">
    <div class="section-title">
      <span id="menuTitle">üçΩ Men√º</span>
      <span id="menuCount"></span>
    </div>
    <div class="grid" id="menuGrid"></div>
  </div>

  <!-- WhatsApp -->
  <a class="whatsapp" id="whatsappBtn" href="https://wa.me/905555555555" target="_blank">
    WhatsApp
  </a>

  <!-- Footer -->
  <footer>
    <span class="admin-link" id="adminOpen">Admin Panel</span>
    <span id="footerText">¬© 2026 DENEME KAFE | QR Men√º</span>
  </footer>

  <!-- DETAIL MODAL -->
  <div class="overlay" id="detailOverlay">
    <div class="modal">
      <div class="modal-header">
        <h2 id="detailName">√úr√ºn</h2>
        <button class="close-btn" onclick="closeDetail()">X</button>
      </div>
      <div class="modal-body">
        <img id="detailImg" class="detail-img" src="" alt="">
        <p id="detailDesc" style="color: rgba(248,250,252,0.75); line-height:1.5; font-size:13px;"></p>

        <div class="detail-row">
          <div class="detail-price" id="detailPrice"></div>
          <div id="detailTag" class="tag"></div>
        </div>

        <div class="detail-meta" id="detailMeta"></div>
      </div>
    </div>
  </div>

  <!-- ADMIN MODAL -->
  <div class="overlay" id="adminOverlay">
    <div class="modal">
      <div class="modal-header">
        <h2 id="adminTitle">Admin Panel</h2>
        <button class="close-btn" onclick="closeAdmin()">X</button>
      </div>

      <div class="modal-body">
        <div id="adminLoginBox" class="admin-box">
          <div class="admin-section">
            <h3>üîí Admin Giri≈üi</h3>
            <input type="password" id="adminPass" placeholder="≈ûifre gir (1234)">
            <button class="btn btn-primary" onclick="adminLogin()">Giri≈ü Yap</button>
          </div>
        </div>

        <div id="adminPanelBox" class="admin-box" style="display:none;">

          <div class="admin-section">
            <h3>üìå Kategori Y√∂netimi</h3>
            <div class="row">
              <input type="text" id="newCategoryTR" placeholder="Kategori TR (√∂rn: Kahvaltƒ±)">
              <input type="text" id="newCategoryEN" placeholder="Category EN (ex: Breakfast)">
            </div>
            <button class="btn btn-primary" onclick="addCategory()">Kategori Ekle</button>

            <div style="margin-top:12px;" id="categoryList"></div>
          </div>

          <div class="admin-section">
            <h3>üçî √úr√ºn Ekle / D√ºzenle</h3>

            <div class="row">
              <input type="text" id="pNameTR" placeholder="√úr√ºn Adƒ± (TR)">
              <input type="text" id="pNameEN" placeholder="Product Name (EN)">
            </div>

            <div class="row">
              <textarea id="pDescTR" placeholder="A√ßƒ±klama (TR)"></textarea>
              <textarea id="pDescEN" placeholder="Description (EN)"></textarea>
            </div>

            <div class="row">
              <input type="text" id="pPrice" placeholder="Fiyat (√∂rn: 150‚Ç∫)">
              <select id="pCategory"></select>
            </div>

            <div class="row">
              <input type="number" id="pCalories" placeholder="Kalori (√∂rn: 420)">
              <input type="text" id="pPrep" placeholder="Hazƒ±rlama S√ºresi (√∂rn: 10 dk)">
            </div>

            <div class="row">
              <select id="pTag">
                <option value="">Etiket se√ß (opsiyonel)</option>
                <option value="Popular">Pop√ºler</option>
                <option value="New">Yeni</option>
                <option value="Chef">≈ûef √ñnerisi</option>
                <option value="BestSeller">√áok Satan</option>
              </select>

              <select id="pDaily">
                <option value="no">G√ºn√ºn √∂nerisi deƒüil</option>
                <option value="yes">‚≠ê G√ºn√ºn √∂nerisi</option>
              </select>
            </div>

            <div class="row">
              <select id="pCampaign">
                <option value="no">Kampanyalƒ± deƒüil</option>
                <option value="yes">üî• Kampanyalƒ± √ºr√ºn</option>
              </select>
              <input type="text" id="pOldPrice" placeholder="Eski Fiyat (kampanya i√ßin)">
            </div>

            <div class="row-1">
              <input type="file" id="pImageFile" accept="image/*">
            </div>

            <button class="btn btn-primary" onclick="saveProduct()">Kaydet</button>
            <button class="btn btn-secondary" onclick="resetForm()">Formu Temizle</button>

            <small style="display:block;margin-top:10px;color:rgba(248,250,252,0.55);">
              Not: G√∂rsel se√ßmezsen eski g√∂rsel korunur.
            </small>
          </div>

          <div class="admin-section">
            <h3>üì¶ √úr√ºnler</h3>
            <div id="productList"></div>
          </div>

          <button class="btn btn-danger" onclick="adminLogout()">√áƒ±kƒ±≈ü Yap</button>

        </div>
      </div>
    </div>
  </div>

<script>
/* ==========================================
   TRANSLATIONS
========================================== */
let currentLang = "tr";
let currentCategory = "all";

const translations = {
  tr: {
    subtitle: "Tatlƒ± ‚Ä¢ Tuzlu ‚Ä¢ ƒ∞√ßecek | QR Men√º Deneyimi",
    search: "√úr√ºn ara... (√∂rn: latte, burger)",
    all: "T√ºm√º",
    campaign: "Kampanyalar",
    menu: "üçΩ Men√º",
    daily: "‚≠ê G√ºn√ºn √ñnerisi",
    campaignsTitle: "üî• Kampanyalar",
    hint: "Kaydƒ±r & ke≈üfet",
    footer: "¬© 2026 DENEME KAFE | QR Men√º",
    whatsapp: "WhatsApp"
  },
  en: {
    subtitle: "Sweet ‚Ä¢ Savory ‚Ä¢ Drinks | QR Menu Experience",
    search: "Search item... (ex: latte, burger)",
    all: "All",
    campaign: "Campaigns",
    menu: "üçΩ Menu",
    daily: "‚≠ê Today's Pick",
    campaignsTitle: "üî• Campaigns",
    hint: "Swipe & explore",
    footer: "¬© 2026 DENEME KAFE | QR Menu",
    whatsapp: "WhatsApp"
  }
};

/* ==========================================
   STORAGE
========================================== */
function saveData(){
  localStorage.setItem("denemeCafeProducts", JSON.stringify(products));
  localStorage.setItem("denemeCafeCategories", JSON.stringify(categories));
}

function loadData(){
  const p = localStorage.getItem("denemeCafeProducts");
  const c = localStorage.getItem("denemeCafeCategories");

  if(p) products = JSON.parse(p);
  if(c) categories = JSON.parse(c);
}

/* ==========================================
   DEFAULT CATEGORIES + PRODUCTS
========================================== */
let categories = [
  { id: "salty", tr: "Tuzlu", en: "Savory" },
  { id: "sweet", tr: "Tatlƒ±", en: "Desserts" },
  { id: "drinks", tr: "ƒ∞√ßecekler", en: "Drinks" }
];

let products = [
  {
    id: "p1",
    category: "salty",
    price: "220‚Ç∫",
    calories: 640,
    prep: "12 dk",
    tag: "Popular",
    daily: "yes",
    campaign: "no",
    oldPrice: "",
    img: "https://images.unsplash.com/photo-1550547660-d9450f859349?auto=format&fit=crop&w=1200&q=70",
    tr: { name: "Cheddar Burger", desc: "Dana eti, cheddar peyniri, karamelize soƒüan ve √∂zel sos." },
    en: { name: "Cheddar Burger", desc: "Beef patty, cheddar cheese, caramelized onion and signature sauce." }
  },
  {
    id: "p2",
    category: "sweet",
    price: "150‚Ç∫",
    calories: 430,
    prep: "8 dk",
    tag: "BestSeller",
    daily: "no",
    campaign: "yes",
    oldPrice: "190‚Ç∫",
    img: "https://images.unsplash.com/photo-1542826438-bd32f43d626f?auto=format&fit=crop&w=1200&q=70",
    tr: { name: "San Sebastian Cheesecake", desc: "Karamelize √ºst katman, kremsi i√ß doku." },
    en: { name: "San Sebastian Cheesecake", desc: "Caramelized top layer with creamy center." }
  },
  {
    id: "p3",
    category: "drinks",
    price: "120‚Ç∫",
    calories: 210,
    prep: "4 dk",
    tag: "New",
    daily: "no",
    campaign: "yes",
    oldPrice: "150‚Ç∫",
    img: "https://images.unsplash.com/photo-1517701550927-30cf4ba1dba5?auto=format&fit=crop&w=1200&q=70",
    tr: { name: "Iced Latte", desc: "Espresso, s√ºt ve buz ile ferahlatƒ±cƒ± lezzet." },
    en: { name: "Iced Latte", desc: "Espresso, milk and ice - refreshing taste." }
  },
  {
    id: "p4",
    category: "sweet",
    price: "145‚Ç∫",
    calories: 520,
    prep: "6 dk",
    tag: "Chef",
    daily: "yes",
    campaign: "no",
    oldPrice: "",
    img: "https://images.unsplash.com/photo-1608219959308-7b1d12f954ed?auto=format&fit=crop&w=1200&q=70",
    tr: { name: "Tiramisu", desc: "Mascarpone kremasƒ±, kahve aromasƒ± ve kakao dokunu≈üu." },
    en: { name: "Tiramisu", desc: "Mascarpone cream, coffee aroma and cocoa touch." }
  }
];

loadData();

/* ==========================================
   UI RENDER HELPERS
========================================== */
function getCategoryLabel(catId){
  if(catId === "all") return translations[currentLang].all;
  if(catId === "campaign") return translations[currentLang].campaign;

  const cat = categories.find(x => x.id === catId);
  if(!cat) return catId;
  return currentLang === "tr" ? cat.tr : cat.en;
}

function getTagLabel(tag){
  if(currentLang === "tr"){
    if(tag === "Popular") return "Pop√ºler";
    if(tag === "New") return "Yeni";
    if(tag === "Chef") return "≈ûef √ñnerisi";
    if(tag === "BestSeller") return "√áok Satan";
    return "";
  } else {
    if(tag === "Popular") return "Popular";
    if(tag === "New") return "New";
    if(tag === "Chef") return "Chef's Choice";
    if(tag === "BestSeller") return "Best Seller";
    return "";
  }
}

function renderCategories(){
  const div = document.getElementById("categoryButtons");
  div.innerHTML = "";

  const fixed = [
    { id: "all", label: translations[currentLang].all },
    { id: "campaign", label: "üî• " + translations[currentLang].campaign }
  ];

  fixed.forEach(c => {
    const btn = document.createElement("button");
    btn.innerText = c.label;
    btn.classList.toggle("active", currentCategory === c.id);
    btn.onclick = () => {
      currentCategory = c.id;
      renderAll();
    };
    div.appendChild(btn);
  });

  categories.forEach(cat => {
    const btn = document.createElement("button");
    btn.innerText = currentLang === "tr" ? cat.tr : cat.en;
    btn.classList.toggle("active", currentCategory === cat.id);

    btn.onclick = () => {
      currentCategory = cat.id;
      renderAll();
    };

    div.appendChild(btn);
  });
}

function getFilteredProducts(){
  const search = document.getElementById("searchInput").value.toLowerCase();

  return products.filter(p => {
    const lang = p[currentLang];
    const matchesSearch =
      lang.name.toLowerCase().includes(search) ||
      lang.desc.toLowerCase().includes(search);

    const matchesCategory =
      currentCategory === "all" ||
      (currentCategory === "campaign" ? p.campaign === "yes" : p.category === currentCategory);

    return matchesSearch && matchesCategory;
  });
}

function renderMenu(){
  const grid = document.getElementById("menuGrid");
  grid.innerHTML = "";

  const filtered = getFilteredProducts();

  document.getElementById("menuCount").innerText =
    filtered.length + " √ºr√ºn";

  filtered.forEach(item => {
    const langData = item[currentLang];

    const card = document.createElement("div");
    card.className = "card";

    const tagText = getTagLabel(item.tag);

    card.innerHTML = `
      <img src="${item.img}" alt="${langData.name}">
      <div class="card-content">
        <div class="card-top">
          <div>
            <h3>${langData.name}</h3>
            <p class="desc">${langData.desc}</p>
          </div>
          <div class="price">${item.price}</div>
        </div>
        ${tagText ? `<span class="tag">${tagText}</span>` : ``}
      </div>
    `;

    card.onclick = () => openDetail(item.id);

    grid.appendChild(card);
  });
}

function renderDaily(){
  const dailyGrid = document.getElementById("dailyGrid");
  dailyGrid.innerHTML = "";

  const daily = products.filter(p => p.daily === "yes");

  daily.forEach(item => {
    const langData = item[currentLang];
    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
      <img src="${item.img}" alt="${langData.name}">
      <div class="card-content">
        <div class="card-top">
          <div>
            <h3>${langData.name}</h3>
            <p class="desc">${langData.desc}</p>
          </div>
          <div class="price">${item.price}</div>
        </div>
        <span class="tag">‚≠ê ${currentLang === "tr" ? "√ñneri" : "Pick"}</span>
      </div>
    `;

    card.onclick = () => openDetail(item.id);

    dailyGrid.appendChild(card);
  });
}

function renderCampaignSlider(){
  const slider = document.getElementById("campaignSlider");
  slider.innerHTML = "";

  const camp = products.filter(p => p.campaign === "yes");

  camp.forEach(item => {
    const langData = item[currentLang];

    const div = document.createElement("div");
    div.className = "slide";

    div.innerHTML = `
      <div class="badge">üî• ${currentLang === "tr" ? "Kampanya" : "Deal"}</div>
      <img src="${item.img}" alt="${langData.name}">
      <div class="slide-info">
        <h3>${langData.name}</h3>
        <p>${langData.desc}</p>
        <div class="price-row">
          <span class="old-price">${item.oldPrice || ""}</span>
          <span class="new-price">${item.price}</span>
        </div>
      </div>
    `;

    div.onclick = () => openDetail(item.id);

    slider.appendChild(div);
  });
}

function renderTexts(){
  document.getElementById("subtitleText").innerText = translations[currentLang].subtitle;
  document.getElementById("searchInput").placeholder = translations[currentLang].search;
  document.getElementById("campaignTitle").innerText = translations[currentLang].campaignsTitle;
  document.getElementById("campaignHint").innerText = translations[currentLang].hint;
  document.getElementById("dailyTitle").innerText = translations[currentLang].daily;
  document.getElementById("menuTitle").innerText = translations[currentLang].menu;
  document.getElementById("footerText").innerText = translations[currentLang].footer;
  document.getElementById("whatsappBtn").innerText = translations[currentLang].whatsapp;
}

function renderAll(){
  renderTexts();
  renderCategories();
  renderCampaignSlider();
  renderDaily();
  renderMenu();
}

/* ==========================================
   DETAIL MODAL
========================================== */
function openDetail(productId){
  const item = products.find(x => x.id === productId);
  if(!item) return;

  const langData = item[currentLang];

  document.getElementById("detailName").innerText = langData.name;
  document.getElementById("detailDesc").innerText = langData.desc;
  document.getElementById("detailPrice").innerText = item.price;
  document.getElementById("detailImg").src = item.img;

  const tagText = getTagLabel(item.tag);
  document.getElementById("detailTag").style.display = tagText ? "inline-block" : "none";
  document.getElementById("detailTag").innerText = tagText;

  const meta = document.getElementById("detailMeta");
  meta.innerHTML = `
    <div class="pill">üî• ${getCategoryLabel(item.category)}</div>
    <div class="pill">‚è± ${item.prep || "-"}</div>
    <div class="pill">‚ö° ${item.calories || "-"} kcal</div>
  `;

  document.getElementById("detailOverlay").classList.add("show");
}

function closeDetail(){
  document.getElementById("detailOverlay").classList.remove("show");
}

document.getElementById("detailOverlay").addEventListener("click", (e) => {
  if(e.target.id === "detailOverlay") closeDetail();
});

/* ==========================================
   LANGUAGE
========================================== */
function setLanguage(lang){
  currentLang = lang;
  document.getElementById("btnTR").classList.toggle("active", lang === "tr");
  document.getElementById("btnEN").classList.toggle("active", lang === "en");
  renderAll();
}

document.getElementById("btnTR").addEventListener("click", () => setLanguage("tr"));
document.getElementById("btnEN").addEventListener("click", () => setLanguage("en"));

document.getElementById("searchInput").addEventListener("input", () => renderAll());

/* ==========================================
   ADMIN MODAL
========================================== */
const adminPassword = "1234";
let editingId = null;

document.getElementById("adminOpen").addEventListener("click", () => {
  document.getElementById("adminOverlay").classList.add("show");
  document.body.style.overflow = "hidden"; // arkayƒ± kilitle
});

function closeAdmin(){
  document.getElementById("adminOverlay").classList.remove("show");
  document.body.style.overflow = "auto";
}

document.getElementById("adminOverlay").addEventListener("click", (e) => {
  if(e.target.id === "adminOverlay") closeAdmin();
});

function adminLogin(){
  const pass = document.getElementById("adminPass").value.trim();
  if(pass === adminPassword){
    document.getElementById("adminLoginBox").style.display = "none";
    document.getElementById("adminPanelBox").style.display = "flex";
    renderAdminPanel();
  } else {
    alert("≈ûifre yanlƒ±≈ü!");
  }
}

function adminLogout(){
  document.getElementById("adminLoginBox").style.display = "flex";
  document.getElementById("adminPanelBox").style.display = "none";
  document.getElementById("adminPass").value = "";
  resetForm();
}

/* ==========================================
   ADMIN CATEGORY
========================================== */
function addCategory(){
  const tr = document.getElementById("newCategoryTR").value.trim();
  const en = document.getElementById("newCategoryEN").value.trim();

  if(!tr || !en){
    alert("Kategori TR ve EN doldur!");
    return;
  }

  const id = "cat_" + Date.now();

  categories.push({ id, tr, en });

  document.getElementById("newCategoryTR").value = "";
  document.getElementById("newCategoryEN").value = "";

  saveData();
  renderAdminPanel();
  renderAll();
}

function deleteCategory(catId){
  const used = products.some(p => p.category === catId);
  if(used){
    alert("Bu kategoriye ait √ºr√ºn var. √ñnce √ºr√ºnleri sil veya deƒüi≈ütir.");
    return;
  }

  categories = categories.filter(c => c.id !== catId);
  saveData();
  renderAdminPanel();
  renderAll();
}

/* ==========================================
   ADMIN PRODUCTS
========================================== */
function resetForm(){
  editingId = null;

  document.getElementById("pNameTR").value = "";
  document.getElementById("pNameEN").value = "";
  document.getElementById("pDescTR").value = "";
  document.getElementById("pDescEN").value = "";
  document.getElementById("pPrice").value = "";
  document.getElementById("pCalories").value = "";
  document.getElementById("pPrep").value = "";
  document.getElementById("pTag").value = "";
  document.getElementById("pDaily").value = "no";
  document.getElementById("pCampaign").value = "no";
  document.getElementById("pOldPrice").value = "";
  document.getElementById("pImageFile").value = "";

  document.querySelector("#adminTitle").innerText = "Admin Panel";
}

function editProduct(id){
  const p = products.find(x => x.id === id);
  if(!p) return;

  editingId = id;

  document.getElementById("pNameTR").value = p.tr.name;
  document.getElementById("pNameEN").value = p.en.name;
  document.getElementById("pDescTR").value = p.tr.desc;
  document.getElementById("pDescEN").value = p.en.desc;
  document.getElementById("pPrice").value = p.price;
  document.getElementById("pCalories").value = p.calories;
  document.getElementById("pPrep").value = p.prep;
  document.getElementById("pTag").value = p.tag || "";
  document.getElementById("pDaily").value = p.daily || "no";
  document.getElementById("pCampaign").value = p.campaign || "no";
  document.getElementById("pOldPrice").value = p.oldPrice || "";

  document.querySelector("#adminTitle").innerText = "√úr√ºn D√ºzenleme";
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function deleteProduct(id){
  if(!confirm("√úr√ºn√º silmek istiyor musun?")) return;

  products = products.filter(x => x.id !== id);

  saveData();
  renderAdminPanel();
  renderAll();
}

function fileToBase64(file){
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onload = () => resolve(reader.result);
    reader.onerror = reject;
    reader.readAsDataURL(file);
  });
}

async function saveProduct(){
  const nameTR = document.getElementById("pNameTR").value.trim();
  const nameEN = document.getElementById("pNameEN").value.trim();
  const descTR = document.getElementById("pDescTR").value.trim();
  const descEN = document.getElementById("pDescEN").value.trim();
  const price = document.getElementById("pPrice").value.trim();
  const category = document.getElementById("pCategory").value;
  const calories = document.getElementById("pCalories").value.trim();
  const prep = document.getElementById("pPrep").value.trim();
  const tag = document.getElementById("pTag").value;
  const daily = document.getElementById("pDaily").value;
  const campaign = document.getElementById("pCampaign").value;
  const oldPrice = document.getElementById("pOldPrice").value.trim();

  const fileInput = document.getElementById("pImageFile");
  const file = fileInput.files[0];

  if(!nameTR || !nameEN || !descTR || !descEN || !price || !category){
    alert("√úr√ºn adƒ±/a√ßƒ±klama/fiyat/kategori zorunlu!");
    return;
  }

  if(campaign === "yes" && !oldPrice){
    alert("Kampanyalƒ± √ºr√ºn i√ßin eski fiyat gir!");
    return;
  }

  let imgBase64 = null;
  if(file){
    imgBase64 = await fileToBase64(file);
  }

  if(editingId){
    const p = products.find(x => x.id === editingId);

    p.tr.name = nameTR;
    p.en.name = nameEN;
    p.tr.desc = descTR;
    p.en.desc = descEN;
    p.price = price;
    p.category = category;
    p.calories = calories ? parseInt(calories) : "";
    p.prep = prep;
    p.tag = tag;
    p.daily = daily;
    p.campaign = campaign;
    p.oldPrice = campaign === "yes" ? oldPrice : "";

    if(imgBase64){
      p.img = imgBase64;
    }

  } else {
    if(!imgBase64){
      alert("Yeni √ºr√ºn eklerken g√∂rsel se√ßmelisin!");
      return;
    }

    products.unshift({
      id: "p_" + Date.now(),
      category,
      price,
      calories: calories ? parseInt(calories) : "",
      prep,
      tag,
      daily,
      campaign,
      oldPrice: campaign === "yes" ? oldPrice : "",
      img: imgBase64,
      tr: { name: nameTR, desc: descTR },
      en: { name: nameEN, desc: descEN }
    });
  }

  saveData();
  resetForm();
  renderAdminPanel();
  renderAll();

  alert("Kaydedildi!");
}

/* ==========================================
   ADMIN PANEL RENDER
========================================== */
function renderAdminPanel(){
  // category dropdown
  const catSelect = document.getElementById("pCategory");
  catSelect.innerHTML = "";
  categories.forEach(cat => {
    const opt = document.createElement("option");
    opt.value = cat.id;
    opt.innerText = `${cat.tr} / ${cat.en}`;
    catSelect.appendChild(opt);
  });

  // category list
  const categoryList = document.getElementById("categoryList");
  categoryList.innerHTML = "";

  categories.forEach(cat => {
    const div = document.createElement("div");
    div.className = "list-item";
    div.innerHTML = `
      <div>
        <strong>${cat.tr}</strong><br>
        <small>${cat.en}</small>
      </div>
      <div class="actions">
        <button class="btn btn-danger" onclick="deleteCategory('${cat.id}')">Sil</button>
      </div>
    `;
    categoryList.appendChild(div);
  });

  // product list
  const productList = document.getElementById("productList");
  productList.innerHTML = "";

  products.forEach(p => {
    const name = p[currentLang].name;
    const cat = getCategoryLabel(p.category);

    const div = document.createElement("div");
    div.className = "list-item";

    div.innerHTML = `
      <div>
        <strong>${name}</strong><br>
        <small>${cat} ‚Ä¢ ${p.price} ${p.campaign === "yes" ? "üî• Kampanya" : ""}</small>
      </div>

      <div class="actions">
        <button class="btn btn-secondary" onclick="editProduct('${p.id}')">D√ºzenle</button>
        <button class="btn btn-danger" onclick="deleteProduct('${p.id}')">Sil</button>
      </div>
    `;

    productList.appendChild(div);
  });
}

/* ==========================================
   INIT
========================================== */
renderAll();
</script>

</body>
</html>
